@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Define light mode variables as fallbacks or if light mode is ever enabled */
    --background: 240 10% 3.9%; /* Default to dark if no class is set, or define light mode properly */
    --foreground: 0 0% 98%;

    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;

    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;

    --primary: 208 93% 60%; /* #3d98f4 */
    --primary-foreground: 210 40% 98%; /* White */

    --secondary: 216 20% 12%; /* #161B22 */
    --secondary-foreground: 210 40% 98%;

    --muted: 216 15% 18%; /* #21262D */
    --muted-foreground: 215 8% 55%; /* #8B949E */

    --accent: 216 15% 18%; /* #21262D - for hovers, etc. */
    --accent-foreground: 210 40% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 0 0% 98%;

    --border: 213 15% 18%; /* #21262D or #30363D, using #21262D */
    --input: 215 28% 17%; /* #161B22 - input background */
    --ring: 208 93% 60%; /* #3d98f4 - Focus rings */

    --radius: 0.5rem;

    /* Custom colors from index.html for direct use if needed */
    --custom-bg-main-hsl: 215 28% 7%; /* #0D1117 */
    --custom-bg-content-pane-hsl: 216 20% 12%; /* #161B22 */
    --custom-text-primary-hsl: 210 17% 85%; /* #C9D1D9 */
    --custom-text-muted-hsl: 215 8% 55%; /* #8B949E */
    --custom-accent-blue-hsl: 207 90% 54%; /* #3d98f4 */
    --custom-border-primary-hsl: 213 15% 18%; /* #21262D */
    --custom-border-secondary-hsl: 213 14% 24%; /* #30363D */
  }

  .dark {
    --background: 215 28% 7%; /* #0D1117 */
    --foreground: 210 17% 85%; /* #C9D1D9 */
    
    --card: 216 20% 12%; /* #161B22 */
    --card-foreground: 210 17% 85%;

    --popover: 215 28% 7%;
    --popover-foreground: 210 17% 85%;

    --primary: 208 93% 60%; /* #3d98f4 */
    --primary-foreground: 210 40% 98%; /* White text on primary blue */

    --secondary: 216 15% 18%; /* #21262D - for secondary elements, borders */
    --secondary-foreground: 210 40% 98%;

    --muted: 216 15% 18%;
    --muted-foreground: 215 8% 55%; /* #8B949E */

    --accent: 216 15% 23%; /* A slightly lighter gray for hover, can adjust */
    --accent-foreground: 210 40% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 0 0% 98%;

    --border: 213 15% 21%; /* #30363D - using this as the main border */
    --input: 216 15% 18%; /* #21262D - input background, slightly different from main content pane for contrast */
    --ring: 208 93% 60%; /* #3d98f4 */
  }
}

@layer base {
  * {
    @apply border-border; /* Default border color */
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1; /* From shadcn */
  }
  /* Ensure links use the primary (accent-blue) color by default */
  a {
    @apply text-accent-blue; /* Uses the custom color defined in tailwind.config.js */
  }
  a:hover {
    @apply text-blue-400; /* A slightly lighter blue for hover, or use primary/80 */
  }
}

/* Custom scrollbar styling to match dark theme */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--background)); 
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.5);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.7);
}

/* Specific styles for code blocks generated by Shiki */
pre.shiki {
  background-color: hsl(var(--custom-bg-main-hsl)) !important; /* #0D1117 */
  padding: 1rem;
  border-radius: 0.375rem; /* rounded-md */
  overflow-x: auto;
  border: 1px solid hsl(var(--border)); 
}

/* Ensure text color inside code blocks is readable */
pre.shiki code {
  color: hsl(var(--custom-text-primary-hsl)); /* Default text color for code */
}

/* Ensure prose styles use the theme variables */
.prose {
  --tw-prose-body: hsl(var(--foreground));
  --tw-prose-headings: hsl(var(--foreground));
  --tw-prose-lead: hsl(var(--muted-foreground));
  --tw-prose-links: hsl(var(--accent-blue-hsl));
  --tw-prose-bold: hsl(var(--foreground));
  --tw-prose-counters: hsl(var(--muted-foreground));
  --tw-prose-bullets: hsl(var(--muted-foreground));
  --tw-prose-hr: hsl(var(--border) / 0.4); /* Using border with opacity */
  --tw-prose-quotes: hsl(var(--foreground));
  --tw-prose-quote-borders: hsl(var(--border));
  --tw-prose-captions: hsl(var(--muted-foreground));
  /* Shiki handles code block colors, but for inline code: */
  --tw-prose-code: theme('colors.pink.400'); /* Default, can be refined */
  --tw-prose-pre-code: hsl(var(--foreground)); 
  --tw-prose-pre-bg: hsl(var(--background)); 
  --tw-prose-th-borders: hsl(var(--border));
  --tw-prose-td-borders: hsl(var(--border));
}

.prose code::before,
.prose code::after {
  content: none !important; /* Remove backticks from inline code */
}

/* Specific styling for links within prose to use accent-blue */
.prose a {
  @apply text-accent-blue hover:underline;
}
.prose a code { /* Ensure code within links also gets link color */
  @apply text-accent-blue;
}


/* Consistent list styling */
.prose ul { @apply list-disc pl-5; }
.prose ol { @apply list-decimal pl-5; }
.prose li { @apply my-1; }
.prose li > p { @apply my-1; }

/* Ensure headings have appropriate margins from prose defaults */
.prose h1 { @apply mb-4 text-3xl md:text-4xl font-extrabold tracking-tight; }
.prose h2 { @apply mt-10 mb-4 text-2xl font-semibold tracking-tight; }
.prose h3 { @apply mt-8 mb-3 text-xl font-semibold tracking-tight; }
.prose h4 { @apply mt-6 mb-2 text-lg font-semibold tracking-tight; }

/* Specific styling for field/argument descriptions to ensure they use muted-foreground */
.prose .field-description, .prose .arg-description {
  @apply text-muted-foreground text-sm;
}

/* Styling for active links in the sidebar, if not handled by component logic */
.sidebar-link-active {
  @apply text-accent-blue bg-accent;
}
